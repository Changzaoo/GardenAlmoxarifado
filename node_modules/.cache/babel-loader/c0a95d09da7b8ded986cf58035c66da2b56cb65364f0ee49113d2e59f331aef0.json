{"ast":null,"code":"/**\r\n * Utilitários para manipulação de datas\r\n */\n\nexport const formatarData = data => {\n  if (!data) return '-';\n  try {\n    return new Date(data).toLocaleDateString('pt-BR');\n  } catch (error) {\n    return '-';\n  }\n};\nexport const formatarHora = hora => {\n  if (!hora) return '-';\n  return hora;\n};\nexport const formatarDataHora = (data, hora) => {\n  const dataFormatada = formatarData(data);\n  const horaFormatada = formatarHora(hora);\n  if (dataFormatada === '-' || horaFormatada === '-') {\n    return '-';\n  }\n  return `${dataFormatada} às ${horaFormatada}`;\n};\nexport const obterDataAtual = () => {\n  return new Date().toISOString().split('T')[0];\n};\nexport const obterHoraAtual = () => {\n  return new Date().toTimeString().slice(0, 5);\n};\nexport const calcularDiasEmprestimo = dataRetirada => {\n  if (!dataRetirada) return 0;\n  try {\n    const hoje = new Date();\n    const dataRetiradaObj = new Date(dataRetirada);\n    const diferenca = hoje - dataRetiradaObj;\n    const dias = Math.floor(diferenca / (1000 * 60 * 60 * 24));\n    return Math.max(0, dias);\n  } catch (error) {\n    return 0;\n  }\n};\nexport const isEmprestimoVencido = (dataRetirada, diasLimite = 7) => {\n  const diasEmprestimo = calcularDiasEmprestimo(dataRetirada);\n  return diasEmprestimo > diasLimite;\n};\nexport const formatarDuracao = (dataInicio, dataFim = null) => {\n  const inicio = new Date(dataInicio);\n  const fim = dataFim ? new Date(dataFim) : new Date();\n  const diferenca = fim - inicio;\n  const dias = Math.floor(diferenca / (1000 * 60 * 60 * 24));\n  const horas = Math.floor(diferenca % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));\n  if (dias > 0) {\n    return `${dias} dia${dias > 1 ? 's' : ''}`;\n  } else if (horas > 0) {\n    return `${horas} hora${horas > 1 ? 's' : ''}`;\n  } else {\n    return 'Menos de 1 hora';\n  }\n};","map":{"version":3,"names":["formatarData","data","Date","toLocaleDateString","error","formatarHora","hora","formatarDataHora","dataFormatada","horaFormatada","obterDataAtual","toISOString","split","obterHoraAtual","toTimeString","slice","calcularDiasEmprestimo","dataRetirada","hoje","dataRetiradaObj","diferenca","dias","Math","floor","max","isEmprestimoVencido","diasLimite","diasEmprestimo","formatarDuracao","dataInicio","dataFim","inicio","fim","horas"],"sources":["C:/Users/vinic/OneDrive/Documentos/Almo/src/utils/dateUtils.js"],"sourcesContent":["/**\r\n * Utilitários para manipulação de datas\r\n */\r\n\r\nexport const formatarData = (data) => {\r\n  if (!data) return '-';\r\n  try {\r\n    return new Date(data).toLocaleDateString('pt-BR');\r\n  } catch (error) {\r\n    return '-';\r\n  }\r\n};\r\n\r\nexport const formatarHora = (hora) => {\r\n  if (!hora) return '-';\r\n  return hora;\r\n};\r\n\r\nexport const formatarDataHora = (data, hora) => {\r\n  const dataFormatada = formatarData(data);\r\n  const horaFormatada = formatarHora(hora);\r\n  \r\n  if (dataFormatada === '-' || horaFormatada === '-') {\r\n    return '-';\r\n  }\r\n  \r\n  return `${dataFormatada} às ${horaFormatada}`;\r\n};\r\n\r\nexport const obterDataAtual = () => {\r\n  return new Date().toISOString().split('T')[0];\r\n};\r\n\r\nexport const obterHoraAtual = () => {\r\n  return new Date().toTimeString().slice(0, 5);\r\n};\r\n\r\nexport const calcularDiasEmprestimo = (dataRetirada) => {\r\n  if (!dataRetirada) return 0;\r\n  \r\n  try {\r\n    const hoje = new Date();\r\n    const dataRetiradaObj = new Date(dataRetirada);\r\n    const diferenca = hoje - dataRetiradaObj;\r\n    const dias = Math.floor(diferenca / (1000 * 60 * 60 * 24));\r\n    return Math.max(0, dias);\r\n  } catch (error) {\r\n    return 0;\r\n  }\r\n};\r\n\r\nexport const isEmprestimoVencido = (dataRetirada, diasLimite = 7) => {\r\n  const diasEmprestimo = calcularDiasEmprestimo(dataRetirada);\r\n  return diasEmprestimo > diasLimite;\r\n};\r\n\r\nexport const formatarDuracao = (dataInicio, dataFim = null) => {\r\n  const inicio = new Date(dataInicio);\r\n  const fim = dataFim ? new Date(dataFim) : new Date();\r\n  \r\n  const diferenca = fim - inicio;\r\n  const dias = Math.floor(diferenca / (1000 * 60 * 60 * 24));\r\n  const horas = Math.floor((diferenca % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n  \r\n  if (dias > 0) {\r\n    return `${dias} dia${dias > 1 ? 's' : ''}`;\r\n  } else if (horas > 0) {\r\n    return `${horas} hora${horas > 1 ? 's' : ''}`;\r\n  } else {\r\n    return 'Menos de 1 hora';\r\n  }\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}