{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vinic\\\\OneDrive\\\\Documentos\\\\Almo\\\\src\\\\components\\\\Emprestimos\\\\FerramentasSelector.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Plus } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FerramentaSelector = ({\n  ferramentasDisponiveis,\n  onAdicionarFerramenta\n}) => {\n  _s();\n  const [buscaFerramenta, setBuscaFerramenta] = useState('');\n  const [ferramentaSelecionada, setFerramentaSelecionada] = useState('');\n  const [sugestoesVisiveis, setSugestoesVisiveis] = useState(false);\n  const filtrarFerramentas = texto => {\n    if (!texto) return [];\n    return ferramentasDisponiveis.filter(item => item.nome.toLowerCase().includes(texto.toLowerCase())).slice(0, 8);\n  };\n  const selecionarFerramenta = ferramenta => {\n    setBuscaFerramenta(ferramenta);\n    setFerramentaSelecionada(ferramenta);\n    setSugestoesVisiveis(false);\n  };\n  const adicionarFerramenta = () => {\n    const ferramenta = ferramentaSelecionada || buscaFerramenta;\n    if (ferramenta) {\n      onAdicionarFerramenta(ferramenta);\n      setFerramentaSelecionada('');\n      setBuscaFerramenta('');\n      setSugestoesVisiveis(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex gap-2 relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Digite o nome da ferramenta...\",\n        value: buscaFerramenta,\n        onChange: e => {\n          setBuscaFerramenta(e.target.value);\n          setFerramentaSelecionada('');\n          setSugestoesVisiveis(e.target.value.length > 0);\n        },\n        onFocus: () => setSugestoesVisiveis(buscaFerramenta.length > 0),\n        onBlur: () => setTimeout(() => setSugestoesVisiveis(false), 200),\n        onKeyDown: e => {\n          if (e.key === 'Enter') {\n            e.preventDefault();\n            adicionarFerramenta();\n          }\n        },\n        className: \"form-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), sugestoesVisiveis && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-10 max-h-48 overflow-y-auto\",\n        children: [filtrarFerramentas(buscaFerramenta).map(item => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => selecionarFerramenta(item.nome),\n          className: \"w-full text-left px-3 py-2 hover:bg-gray-50 border-b border-gray-100 last:border-b-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium text-sm\",\n            children: item.nome\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500\",\n            children: [item.categoria, \" \\u2022 Dispon\\xEDvel: \", item.disponivel]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this)), filtrarFerramentas(buscaFerramenta).length === 0 && buscaFerramenta && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-3 py-2 text-gray-500 text-sm\",\n          children: \"Nenhuma ferramenta encontrada\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: ferramentaSelecionada,\n      onChange: e => {\n        setFerramentaSelecionada(e.target.value);\n        setBuscaFerramenta(e.target.value);\n        setSugestoesVisiveis(false);\n      },\n      className: \"form-select min-w-48\",\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Ou selecione...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), ferramentasDisponiveis.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: item.nome,\n        children: [item.nome.length > 30 ? `${item.nome.substring(0, 30)}...` : item.nome, \" (\", item.disponivel, \")\"]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: adicionarFerramenta,\n      disabled: !buscaFerramenta && !ferramentaSelecionada,\n      className: \"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed\",\n      children: /*#__PURE__*/_jsxDEV(Plus, {\n        className: \"w-4 h-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n_s(FerramentaSelector, \"qf8CmVzg2OObK4UlJpEW38R50cs=\");\n_c = FerramentaSelector;\nexport default FerramentaSelector;\nvar _c;\n$RefreshReg$(_c, \"FerramentaSelector\");","map":{"version":3,"names":["React","useState","Plus","jsxDEV","_jsxDEV","FerramentaSelector","ferramentasDisponiveis","onAdicionarFerramenta","_s","buscaFerramenta","setBuscaFerramenta","ferramentaSelecionada","setFerramentaSelecionada","sugestoesVisiveis","setSugestoesVisiveis","filtrarFerramentas","texto","filter","item","nome","toLowerCase","includes","slice","selecionarFerramenta","ferramenta","adicionarFerramenta","className","children","type","placeholder","value","onChange","e","target","length","onFocus","onBlur","setTimeout","onKeyDown","key","preventDefault","fileName","_jsxFileName","lineNumber","columnNumber","map","onClick","categoria","disponivel","id","substring","disabled","_c","$RefreshReg$"],"sources":["C:/Users/vinic/OneDrive/Documentos/Almo/src/components/Emprestimos/FerramentasSelector.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Plus } from 'lucide-react';\r\n\r\nconst FerramentaSelector = ({ ferramentasDisponiveis, onAdicionarFerramenta }) => {\r\n  const [buscaFerramenta, setBuscaFerramenta] = useState('');\r\n  const [ferramentaSelecionada, setFerramentaSelecionada] = useState('');\r\n  const [sugestoesVisiveis, setSugestoesVisiveis] = useState(false);\r\n\r\n  const filtrarFerramentas = (texto) => {\r\n    if (!texto) return [];\r\n    return ferramentasDisponiveis\r\n      .filter(item => \r\n        item.nome.toLowerCase().includes(texto.toLowerCase())\r\n      )\r\n      .slice(0, 8);\r\n  };\r\n\r\n  const selecionarFerramenta = (ferramenta) => {\r\n    setBuscaFerramenta(ferramenta);\r\n    setFerramentaSelecionada(ferramenta);\r\n    setSugestoesVisiveis(false);\r\n  };\r\n\r\n  const adicionarFerramenta = () => {\r\n    const ferramenta = ferramentaSelecionada || buscaFerramenta;\r\n    if (ferramenta) {\r\n      onAdicionarFerramenta(ferramenta);\r\n      setFerramentaSelecionada('');\r\n      setBuscaFerramenta('');\r\n      setSugestoesVisiveis(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex gap-2 relative\">\r\n      {/* Campo de busca com autocompletar */}\r\n      <div className=\"flex-1 relative\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Digite o nome da ferramenta...\"\r\n          value={buscaFerramenta}\r\n          onChange={(e) => {\r\n            setBuscaFerramenta(e.target.value);\r\n            setFerramentaSelecionada('');\r\n            setSugestoesVisiveis(e.target.value.length > 0);\r\n          }}\r\n          onFocus={() => setSugestoesVisiveis(buscaFerramenta.length > 0)}\r\n          onBlur={() => setTimeout(() => setSugestoesVisiveis(false), 200)}\r\n          onKeyDown={(e) => {\r\n            if (e.key === 'Enter') {\r\n              e.preventDefault();\r\n              adicionarFerramenta();\r\n            }\r\n          }}\r\n          className=\"form-input\"\r\n        />\r\n        \r\n        {/* Dropdown de sugestões */}\r\n        {sugestoesVisiveis && (\r\n          <div className=\"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-10 max-h-48 overflow-y-auto\">\r\n            {filtrarFerramentas(buscaFerramenta).map(item => (\r\n              <button\r\n                key={item.id}\r\n                onClick={() => selecionarFerramenta(item.nome)}\r\n                className=\"w-full text-left px-3 py-2 hover:bg-gray-50 border-b border-gray-100 last:border-b-0\"\r\n              >\r\n                <div className=\"font-medium text-sm\">{item.nome}</div>\r\n                <div className=\"text-xs text-gray-500\">\r\n                  {item.categoria} • Disponível: {item.disponivel}\r\n                </div>\r\n              </button>\r\n            ))}\r\n            {filtrarFerramentas(buscaFerramenta).length === 0 && buscaFerramenta && (\r\n              <div className=\"px-3 py-2 text-gray-500 text-sm\">\r\n                Nenhuma ferramenta encontrada\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Select tradicional como alternativa */}\r\n      <select\r\n        value={ferramentaSelecionada}\r\n        onChange={(e) => {\r\n          setFerramentaSelecionada(e.target.value);\r\n          setBuscaFerramenta(e.target.value);\r\n          setSugestoesVisiveis(false);\r\n        }}\r\n        className=\"form-select min-w-48\"\r\n      >\r\n        <option value=\"\">Ou selecione...</option>\r\n        {ferramentasDisponiveis.map(item => (\r\n          <option key={item.id} value={item.nome}>\r\n            {item.nome.length > 30 ? `${item.nome.substring(0, 30)}...` : item.nome} ({item.disponivel})\r\n          </option>\r\n        ))}\r\n      </select>\r\n\r\n      <button\r\n        onClick={adicionarFerramenta}\r\n        disabled={!buscaFerramenta && !ferramentaSelecionada}\r\n        className=\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed\"\r\n      >\r\n        <Plus className=\"w-4 h-4\" />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FerramentaSelector;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}