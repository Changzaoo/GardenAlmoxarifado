{"ast":null,"code":"import React,{useState}from'react';import{Search,CheckCircle,Clock,Trash2}from'lucide-react';import{formatarData}from'../../utils/dateUtils';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ListaEmprestimos=_ref=>{let{emprestimos,devolverFerramentas,removerEmprestimo,atualizarDisponibilidade}=_ref;const[filtroEmprestimos,setFiltroEmprestimos]=useState('');const emprestimosFiltrados=emprestimos.filter(emp=>emp.colaborador.toLowerCase().includes(filtroEmprestimos.toLowerCase())||emp.ferramentas.some(f=>f.toLowerCase().includes(filtroEmprestimos.toLowerCase())));const handleDevolverFerramentas=id=>{devolverFerramentas(id,atualizarDisponibilidade);};const handleRemoverEmprestimo=id=>{removerEmprestimo(id,atualizarDisponibilidade);};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-800\",children:\"Hist\\xF3rico de Empr\\xE9stimos\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"w-4 h-4 absolute left-3 top-3 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Buscar por colaborador ou ferramenta...\",value:filtroEmprestimos,onChange:e=>setFiltroEmprestimos(e.target.value),className:\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-2\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-2\",children:\"Colaborador\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-2\",children:\"Ferramentas\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-2\",children:\"Retirada\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-2\",children:\"Devolu\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-2\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-2\",children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:emprestimosFiltrados.sort((a,b)=>b.id-a.id).map(emprestimo=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b hover:bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"py-3 px-2 font-mono text-sm\",children:[\"#\",emprestimo.id]}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-2 font-medium\",children:emprestimo.colaborador}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-xs\",children:emprestimo.ferramentas.length>2?/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"div\",{children:emprestimo.ferramentas.slice(0,2).join(', ')}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-500\",children:[\"+\",emprestimo.ferramentas.length-2,\" outras\"]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"text-sm\",children:emprestimo.ferramentas.join(', ')})})}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-3 px-2 text-sm\",children:[/*#__PURE__*/_jsx(\"div\",{children:formatarData(emprestimo.dataRetirada)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:emprestimo.horaRetirada})]}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-2 text-sm\",children:emprestimo.dataDevolucao?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:formatarData(emprestimo.dataDevolucao)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:emprestimo.horaDevolucao})]}):/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"-\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(emprestimo.status==='emprestado'?'bg-yellow-100 text-yellow-800':'bg-green-100 text-green-800'),children:emprestimo.status==='emprestado'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Clock,{className:\"w-3 h-3 inline mr-1\"}),\"Emprestado\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-3 h-3 inline mr-1\"}),\"Devolvido\"]})})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[emprestimo.status==='emprestado'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDevolverFerramentas(emprestimo.id),className:\"text-green-600 hover:text-green-800 p-1\",title:\"Marcar como devolvido\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoverEmprestimo(emprestimo.id),className:\"text-red-600 hover:text-red-800 p-1\",title:\"Remover registro\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]})})]},emprestimo.id))})]})})]});};export default ListaEmprestimos;","map":{"version":3,"names":["React","useState","Search","CheckCircle","Clock","Trash2","formatarData","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ListaEmprestimos","_ref","emprestimos","devolverFerramentas","removerEmprestimo","atualizarDisponibilidade","filtroEmprestimos","setFiltroEmprestimos","emprestimosFiltrados","filter","emp","colaborador","toLowerCase","includes","ferramentas","some","f","handleDevolverFerramentas","id","handleRemoverEmprestimo","className","children","type","placeholder","value","onChange","e","target","sort","a","b","map","emprestimo","length","slice","join","dataRetirada","horaRetirada","dataDevolucao","horaDevolucao","concat","status","onClick","title"],"sources":["C:/Users/vinic/OneDrive/Documentos/Almo/src/components/Emprestimos/ListaEmprestimos.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Search, CheckCircle, Clock, Trash2 } from 'lucide-react';\r\nimport { formatarData } from '../../utils/dateUtils';\r\n\r\nconst ListaEmprestimos = ({ \r\n  emprestimos, \r\n  devolverFerramentas, \r\n  removerEmprestimo,\r\n  atualizarDisponibilidade \r\n}) => {\r\n  const [filtroEmprestimos, setFiltroEmprestimos] = useState('');\r\n\r\n  const emprestimosFiltrados = emprestimos.filter(emp =>\r\n    emp.colaborador.toLowerCase().includes(filtroEmprestimos.toLowerCase()) ||\r\n    emp.ferramentas.some(f => f.toLowerCase().includes(filtroEmprestimos.toLowerCase()))\r\n  );\r\n\r\n  const handleDevolverFerramentas = (id) => {\r\n    devolverFerramentas(id, atualizarDisponibilidade);\r\n  };\r\n\r\n  const handleRemoverEmprestimo = (id) => {\r\n    removerEmprestimo(id, atualizarDisponibilidade);\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h2 className=\"text-xl font-bold text-gray-800\">Histórico de Empréstimos</h2>\r\n        <div className=\"relative\">\r\n          <Search className=\"w-4 h-4 absolute left-3 top-3 text-gray-400\" />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Buscar por colaborador ou ferramenta...\"\r\n            value={filtroEmprestimos}\r\n            onChange={(e) => setFiltroEmprestimos(e.target.value)}\r\n            className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"w-full\">\r\n          <thead>\r\n            <tr className=\"border-b\">\r\n              <th className=\"text-left py-3 px-2\">ID</th>\r\n              <th className=\"text-left py-3 px-2\">Colaborador</th>\r\n              <th className=\"text-left py-3 px-2\">Ferramentas</th>\r\n              <th className=\"text-left py-3 px-2\">Retirada</th>\r\n              <th className=\"text-left py-3 px-2\">Devolução</th>\r\n              <th className=\"text-left py-3 px-2\">Status</th>\r\n              <th className=\"text-left py-3 px-2\">Ações</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {emprestimosFiltrados.sort((a, b) => b.id - a.id).map(emprestimo => (\r\n              <tr key={emprestimo.id} className=\"border-b hover:bg-gray-50\">\r\n                <td className=\"py-3 px-2 font-mono text-sm\">#{emprestimo.id}</td>\r\n                <td className=\"py-3 px-2 font-medium\">{emprestimo.colaborador}</td>\r\n                <td className=\"py-3 px-2\">\r\n                  <div className=\"max-w-xs\">\r\n                    {emprestimo.ferramentas.length > 2 ? (\r\n                      <div className=\"text-sm\">\r\n                        <div>{emprestimo.ferramentas.slice(0, 2).join(', ')}</div>\r\n                        <div className=\"text-gray-500\">\r\n                          +{emprestimo.ferramentas.length - 2} outras\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"text-sm\">\r\n                        {emprestimo.ferramentas.join(', ')}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </td>\r\n                <td className=\"py-3 px-2 text-sm\">\r\n                  <div>{formatarData(emprestimo.dataRetirada)}</div>\r\n                  <div className=\"text-gray-500\">{emprestimo.horaRetirada}</div>\r\n                </td>\r\n                <td className=\"py-3 px-2 text-sm\">\r\n                  {emprestimo.dataDevolucao ? (\r\n                    <div>\r\n                      <div>{formatarData(emprestimo.dataDevolucao)}</div>\r\n                      <div className=\"text-gray-500\">{emprestimo.horaDevolucao}</div>\r\n                    </div>\r\n                  ) : (\r\n                    <span className=\"text-gray-400\">-</span>\r\n                  )}\r\n                </td>\r\n                <td className=\"py-3 px-2\">\r\n                  <span className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n                    emprestimo.status === 'emprestado'\r\n                      ? 'bg-yellow-100 text-yellow-800'\r\n                      : 'bg-green-100 text-green-800'\r\n                  }`}>\r\n                    {emprestimo.status === 'emprestado' ? (\r\n                      <><Clock className=\"w-3 h-3 inline mr-1\" />Emprestado</>\r\n                    ) : (\r\n                      <><CheckCircle className=\"w-3 h-3 inline mr-1\" />Devolvido</>\r\n                    )}\r\n                  </span>\r\n                </td>\r\n                <td className=\"py-3 px-2\">\r\n                  <div className=\"flex gap-2\">\r\n                    {emprestimo.status === 'emprestado' && (\r\n                      <button\r\n                        onClick={() => handleDevolverFerramentas(emprestimo.id)}\r\n                        className=\"text-green-600 hover:text-green-800 p-1\"\r\n                        title=\"Marcar como devolvido\"\r\n                      >\r\n                        <CheckCircle className=\"w-4 h-4\" />\r\n                      </button>\r\n                    )}\r\n                    <button\r\n                      onClick={() => handleRemoverEmprestimo(emprestimo.id)}\r\n                      className=\"text-red-600 hover:text-red-800 p-1\"\r\n                      title=\"Remover registro\"\r\n                    >\r\n                      <Trash2 className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListaEmprestimos;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}