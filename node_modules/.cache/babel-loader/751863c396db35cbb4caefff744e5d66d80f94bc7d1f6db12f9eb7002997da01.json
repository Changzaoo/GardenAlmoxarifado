{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { inventarioInicial } from '../../data/inventarioInicial';\nexport const useInventario = () => {\n  _s();\n  const [inventario, setInventario] = useState(inventarioInicial);\n  const adicionarItem = novoItem => {\n    if (!novoItem.nome || !novoItem.quantidade || !novoItem.categoria) return false;\n    const novoId = Math.max(...inventario.map(i => i.id), 0) + 1;\n    const item = {\n      id: novoId,\n      nome: novoItem.nome,\n      quantidade: parseInt(novoItem.quantidade),\n      disponivel: parseInt(novoItem.quantidade),\n      categoria: novoItem.categoria\n    };\n    setInventario(prev => [...prev, item]);\n    return true;\n  };\n  const removerItem = (id, emprestimos, setEmprestimos) => {\n    const item = inventario.find(i => i.id === id);\n    if (!item) return;\n    setInventario(prev => prev.filter(item => item.id !== id));\n\n    // Remover empréstimos relacionados\n    if (setEmprestimos) {\n      setEmprestimos(prev => prev.filter(emp => !emp.ferramentas.includes(item.nome)));\n    }\n  };\n  const atualizarDisponibilidade = (ferramentas, operacao) => {\n    setInventario(prev => prev.map(item => {\n      const quantidadeAfetada = ferramentas.filter(f => f === item.nome).length;\n      if (quantidadeAfetada === 0) return item;\n      if (operacao === 'remover') {\n        return {\n          ...item,\n          disponivel: Math.max(0, item.disponivel - quantidadeAfetada)\n        };\n      } else if (operacao === 'adicionar') {\n        return {\n          ...item,\n          disponivel: Math.min(item.quantidade, item.disponivel + quantidadeAfetada)\n        };\n      }\n      return item;\n    }));\n  };\n  const editarItem = (id, dadosAtualizados) => {\n    setInventario(prev => prev.map(item => item.id === id ? {\n      ...item,\n      ...dadosAtualizados\n    } : item));\n  };\n  return {\n    inventario,\n    adicionarItem,\n    removerItem,\n    atualizarDisponibilidade,\n    editarItem,\n    setInventario\n  };\n};\n_s(useInventario, \"WppAYw/r7h/0oIjBw1mJPnGs9Ck=\");","map":{"version":3,"names":["useState","inventarioInicial","useInventario","_s","inventario","setInventario","adicionarItem","novoItem","nome","quantidade","categoria","novoId","Math","max","map","i","id","item","parseInt","disponivel","prev","removerItem","emprestimos","setEmprestimos","find","filter","emp","ferramentas","includes","atualizarDisponibilidade","operacao","quantidadeAfetada","f","length","min","editarItem","dadosAtualizados"],"sources":["C:/Users/vinic/OneDrive/Documentos/Almo/src/components/hooks/useInventario.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { inventarioInicial } from '../../data/inventarioInicial';\r\n\r\nexport const useInventario = () => {\r\n  const [inventario, setInventario] = useState(inventarioInicial);\r\n\r\n  const adicionarItem = (novoItem) => {\r\n    if (!novoItem.nome || !novoItem.quantidade || !novoItem.categoria) return false;\r\n\r\n    const novoId = Math.max(...inventario.map(i => i.id), 0) + 1;\r\n    const item = {\r\n      id: novoId,\r\n      nome: novoItem.nome,\r\n      quantidade: parseInt(novoItem.quantidade),\r\n      disponivel: parseInt(novoItem.quantidade),\r\n      categoria: novoItem.categoria\r\n    };\r\n\r\n    setInventario(prev => [...prev, item]);\r\n    return true;\r\n  };\r\n\r\n  const removerItem = (id, emprestimos, setEmprestimos) => {\r\n    const item = inventario.find(i => i.id === id);\r\n    if (!item) return;\r\n\r\n    setInventario(prev => prev.filter(item => item.id !== id));\r\n    \r\n    // Remover empréstimos relacionados\r\n    if (setEmprestimos) {\r\n      setEmprestimos(prev => prev.filter(emp => \r\n        !emp.ferramentas.includes(item.nome)\r\n      ));\r\n    }\r\n  };\r\n\r\n  const atualizarDisponibilidade = (ferramentas, operacao) => {\r\n    setInventario(prev => prev.map(item => {\r\n      const quantidadeAfetada = ferramentas.filter(f => f === item.nome).length;\r\n      \r\n      if (quantidadeAfetada === 0) return item;\r\n      \r\n      if (operacao === 'remover') {\r\n        return { ...item, disponivel: Math.max(0, item.disponivel - quantidadeAfetada) };\r\n      } else if (operacao === 'adicionar') {\r\n        return { ...item, disponivel: Math.min(item.quantidade, item.disponivel + quantidadeAfetada) };\r\n      }\r\n      \r\n      return item;\r\n    }));\r\n  };\r\n\r\n  const editarItem = (id, dadosAtualizados) => {\r\n    setInventario(prev => prev.map(item => \r\n      item.id === id ? { ...item, ...dadosAtualizados } : item\r\n    ));\r\n  };\r\n\r\n  return {\r\n    inventario,\r\n    adicionarItem,\r\n    removerItem,\r\n    atualizarDisponibilidade,\r\n    editarItem,\r\n    setInventario\r\n  };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}