{"ast":null,"code":"import _objectSpread from\"C:/Users/vinic/OneDrive/Documentos/Almo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from'react';import{inventarioInicial}from'../../data/inventarioInicial';export const useInventario=()=>{const[inventario,setInventario]=useState(inventarioInicial);const adicionarItem=novoItem=>{if(!novoItem.nome||!novoItem.quantidade||!novoItem.categoria)return false;const novoId=Math.max(...inventario.map(i=>i.id),0)+1;const item={id:novoId,nome:novoItem.nome,quantidade:parseInt(novoItem.quantidade),disponivel:parseInt(novoItem.quantidade),categoria:novoItem.categoria};setInventario(prev=>[...prev,item]);return true;};const removerItem=(id,emprestimos,setEmprestimos)=>{const item=inventario.find(i=>i.id===id);if(!item)return;setInventario(prev=>prev.filter(item=>item.id!==id));// Remover empréstimos relacionados\nif(setEmprestimos){setEmprestimos(prev=>prev.filter(emp=>!emp.ferramentas.includes(item.nome)));}};const atualizarDisponibilidade=(ferramentas,operacao)=>{setInventario(prev=>prev.map(item=>{const quantidadeAfetada=ferramentas.filter(f=>f===item.nome).length;if(quantidadeAfetada===0)return item;if(operacao==='remover'){return _objectSpread(_objectSpread({},item),{},{disponivel:Math.max(0,item.disponivel-quantidadeAfetada)});}else if(operacao==='adicionar'){return _objectSpread(_objectSpread({},item),{},{disponivel:Math.min(item.quantidade,item.disponivel+quantidadeAfetada)});}return item;}));};const editarItem=(id,dadosAtualizados)=>{setInventario(prev=>prev.map(item=>item.id===id?_objectSpread(_objectSpread({},item),dadosAtualizados):item));};return{inventario,adicionarItem,removerItem,atualizarDisponibilidade,editarItem,setInventario};};","map":{"version":3,"names":["useState","inventarioInicial","useInventario","inventario","setInventario","adicionarItem","novoItem","nome","quantidade","categoria","novoId","Math","max","map","i","id","item","parseInt","disponivel","prev","removerItem","emprestimos","setEmprestimos","find","filter","emp","ferramentas","includes","atualizarDisponibilidade","operacao","quantidadeAfetada","f","length","_objectSpread","min","editarItem","dadosAtualizados"],"sources":["C:/Users/vinic/OneDrive/Documentos/Almo/src/components/hooks/useInventario.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { inventarioInicial } from '../../data/inventarioInicial';\r\n\r\nexport const useInventario = () => {\r\n  const [inventario, setInventario] = useState(inventarioInicial);\r\n\r\n  const adicionarItem = (novoItem) => {\r\n    if (!novoItem.nome || !novoItem.quantidade || !novoItem.categoria) return false;\r\n\r\n    const novoId = Math.max(...inventario.map(i => i.id), 0) + 1;\r\n    const item = {\r\n      id: novoId,\r\n      nome: novoItem.nome,\r\n      quantidade: parseInt(novoItem.quantidade),\r\n      disponivel: parseInt(novoItem.quantidade),\r\n      categoria: novoItem.categoria\r\n    };\r\n\r\n    setInventario(prev => [...prev, item]);\r\n    return true;\r\n  };\r\n\r\n  const removerItem = (id, emprestimos, setEmprestimos) => {\r\n    const item = inventario.find(i => i.id === id);\r\n    if (!item) return;\r\n\r\n    setInventario(prev => prev.filter(item => item.id !== id));\r\n    \r\n    // Remover empréstimos relacionados\r\n    if (setEmprestimos) {\r\n      setEmprestimos(prev => prev.filter(emp => \r\n        !emp.ferramentas.includes(item.nome)\r\n      ));\r\n    }\r\n  };\r\n\r\n  const atualizarDisponibilidade = (ferramentas, operacao) => {\r\n    setInventario(prev => prev.map(item => {\r\n      const quantidadeAfetada = ferramentas.filter(f => f === item.nome).length;\r\n      \r\n      if (quantidadeAfetada === 0) return item;\r\n      \r\n      if (operacao === 'remover') {\r\n        return { ...item, disponivel: Math.max(0, item.disponivel - quantidadeAfetada) };\r\n      } else if (operacao === 'adicionar') {\r\n        return { ...item, disponivel: Math.min(item.quantidade, item.disponivel + quantidadeAfetada) };\r\n      }\r\n      \r\n      return item;\r\n    }));\r\n  };\r\n\r\n  const editarItem = (id, dadosAtualizados) => {\r\n    setInventario(prev => prev.map(item => \r\n      item.id === id ? { ...item, ...dadosAtualizados } : item\r\n    ));\r\n  };\r\n\r\n  return {\r\n    inventario,\r\n    adicionarItem,\r\n    removerItem,\r\n    atualizarDisponibilidade,\r\n    editarItem,\r\n    setInventario\r\n  };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}